---
inv_haproxy_confs_path: "/etc/haproxy/conf.d"
inv_haproxy_ssl_path: "/etc/haproxy/ssl"

inv_haproxy_configurations:
  - name: "my.website.domain.tld"
    frontend:
      description: "My first website  with HTTP frontend address"
      bind: "*"
      port: 10030
      https: false
      mode: "http"
    backend:
      balance: roundrobin
      options:
        - httpclose
        - forwardfor
        - httpchk GET /
      forwardedPort: 443
      httpCheckStatus: 503
      servers:
        - name: "backend-server-1"
          addresse: "127.0.0.1"
          port: "8181"
          https: true

  - name: "my.https.website.domain.tld"
    frontend:
      description: "My HTTPS website but with 1 server as backup"
      bind: "*"
      port: 10031
      https: true
      mode: "http"
    backend:
      balance: leastconn
      options:
        - httpclose
        - forwardfor
        - httpchk GET /
      forwardedPort: 443
      httpCheckStatus: 503
      servers:
        - name: "backend-server-1-as-BACKUP"
          addresse: "127.0.0.1"
          port: 8181
          https: true
          backup: true
        - name: "backend-server-2"
          addresse: "127.0.0.1"
          port: 8181
          https: true
