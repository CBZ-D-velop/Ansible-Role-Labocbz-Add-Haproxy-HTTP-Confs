---
haproxy_confs_path: "/etc/haproxy/conf.d"
haproxy_ssl_path: "/etc/haproxy/ssl"

haproxy_configurations:
  - name: "my.website.domain.tld"
    frontend:
      description: "My first website  with HTTP frontend address"
      bind: "*"
      port: 10030
      https: false
      mode: "http"
    backend:
      balance: roundrobin
      options:
        - httpclose
        - forwardfor
        - httpchk GET /
      forwardedPort: 443
      httpCheckStatus: 301
      servers:
        - name: "backend-server-1"
          addresse: "backend1.internal.domain.tld"
          port: "80"
          https: false

  - name: "my.https.website.domain.tld"
    frontend:
      description: "My website but with HTTPS frontend access"
      bind: "*"
      port: 10031
      https: true
      mode: "http"
    backend:
      balance: leastconn
      options:
        - httpclose
        - forwardfor
        - httpchk GET /
      forwardedPort: 443
      httpCheckStatus: 200
      servers:
        - name: "backend-server-1-as-BACKUP"
          addresse: "backend1.internal.domain.tld"
          port: 443
          https: true
          backup: true
        - name: "backend-server-2"
          addresse: "backend2.internal.domain.tld"
          port: 443
          https: true
